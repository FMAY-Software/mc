-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'ooapopulation',
	3801,
	'ooapopulation',
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("87050544-e583-4582-86a9-367a73543eb0",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'populate',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	0,
	'// Populate OOAofOOA.

element = param.element;
value = param.value;

select any ooapopulation from instances of ooapopulation;
if ( empty ooapopulation )
  create object instance ooapopulation of ooapopulation;
end if;

if ( "project" == element )
  ooapopulation.transformProject(name:param.value[0]);
elif ( "domain" == element )
  ooapopulation.transformDomain(name:param.value[0]);
elif ( "object" == element )
  ooapopulation.transformObject(name:param.value[0]);
elif ( "terminator" == element )
  ooapopulation.transformTerminator(name:param.value[0]);
elif ( "activity" == element )
  ooapopulation.transformActivity();
elif ( "parameter" == element )
  ooapopulation.transformParameter();
elif ( "attribute" == element )
  ooapopulation.transformAttribute();
elif ( "state" == element )
  ooapopulation.transformState();
elif ( "event" == element )
  ooapopulation.transformEvent();
else
  TRACE::log( flavor:"failure", id:59, message:"maslin unrecognized element:  " + element );
end if;
',
	1,
	'',
	"46927d95-5219-4409-9ecf-2a4bde2444bf");
INSERT INTO O_TPARM
	VALUES ("131c349a-c035-4ed0-854f-b9f18d804b36",
	"87050544-e583-4582-86a9-367a73543eb0",
	'element',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("b7e1dbc7-2e46-4b35-82f2-fbf411d3d1b0",
	"87050544-e583-4582-86a9-367a73543eb0",
	'value',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'[8]',
	"131c349a-c035-4ed0-854f-b9f18d804b36",
	'');
INSERT INTO S_DIM
	VALUES (8,
	0,
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"b7e1dbc7-2e46-4b35-82f2-fbf411d3d1b0",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"00000000-0000-0000-0000-000000000000",
	"b7b3e016-0c9c-42a6-ad94-320b2a9deec2",
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("a442a038-3373-4282-a5fc-098af44e9cbe",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformProject',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// A MASL project is not the same as an xtUML project.  A MASL project is a system wiring specification.
// Due to the way the m2m population happens, we don''t know if we''ll see a project or domain definitions
// first.  Thus, we make sure an xtUML system is singlularly created no matter what comes first.
self.createSystem();

// Create a package named the same as the project and cache it
self.wiring_pkg = self.SystemModel_newPackage(s_sys:self.current_sys, pkg_name:param.name);


// TODO - more work?
',
	1,
	'',
	"9fda3415-6862-461d-ab35-5239c783bde0");
INSERT INTO O_TPARM
	VALUES ("0328c5d5-16a3-4b55-b5b6-f0d134aec768",
	"a442a038-3373-4282-a5fc-098af44e9cbe",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("0ff33986-594c-49e8-84a0-7eb628272d32",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'SystemModel_newPackage',
	'',
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	1,
	's_sys = param.s_sys;

create object instance package of EP_PKG;
create object instance pe of PE_PE;
relate pe to package across R8001;
relate package to s_sys across R1401;
relate package to s_sys across R1405;
pe.type = ElementTypeConstants::PACKAGE;
self.PackageableElement_initialize(pe_pe:pe); // OOA - pe.initialize();
self.Package_initialize(ep_pkg:package, name:param.pkg_name); // OOA - package.initialize();

return package; ',
	1,
	'',
	"a9942ae9-1501-49c7-afb1-84aa422a85e5");
INSERT INTO O_TPARM
	VALUES ("c0ea2b5d-984c-4673-8b25-82eec8098da2",
	"0ff33986-594c-49e8-84a0-7eb628272d32",
	's_sys',
	"4b886601-55ee-4d42-a1f8-f5c45d459db2",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("4b886601-55ee-4d42-a1f8-f5c45d459db2",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<System Model>',
	'',
	'',
	'../../../../../mcooa/models/mcooa/ooaofooa/Domain/Domain.xtuml');
INSERT INTO O_TPARM
	VALUES ("30807aa7-d095-4157-bcc4-c73f861e33bb",
	"0ff33986-594c-49e8-84a0-7eb628272d32",
	'pkg_name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"c0ea2b5d-984c-4673-8b25-82eec8098da2",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("9939c670-a721-4742-a824-ed4b0df4acd6",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<Package>',
	'',
	'',
	'../../../../../mcooa/models/mcooa/ooaofooa/Element Packaging/Element Packaging.xtuml');
INSERT INTO O_TFR
	VALUES ("6d27ebf1-bb50-4835-85e2-b21d260ab92c",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'PackageableElement_initialize',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// TODO - The parameter to this function needs to be changed from integer to inst_ref<PackageableElement>
pe_pe = param.pe_pe;
pe_pe.Visibility = Visibility::Public;',
	1,
	'',
	"6355664b-4091-4bc3-ac82-c6d3580da3ad");
INSERT INTO O_TPARM
	VALUES ("6a17224a-e16d-4c87-a4b6-3504f24b8992",
	"6d27ebf1-bb50-4835-85e2-b21d260ab92c",
	'pe_pe',
	"e988e223-9ca4-4b6f-a675-001eefe3aa24",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("e988e223-9ca4-4b6f-a675-001eefe3aa24",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<Packageable Element>',
	'',
	'',
	'../../../../../mcooa/models/mcooa/ooaofooa/Packageable Element/Packageable Element.xtuml');
INSERT INTO O_TFR
	VALUES ("9c97aa3a-d0d2-409c-86d0-9194db2476c5",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Package_initialize',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'param.ep_pkg.Name = param.name;',
	1,
	'',
	"6d27ebf1-bb50-4835-85e2-b21d260ab92c");
INSERT INTO O_TPARM
	VALUES ("5a94768b-9a96-4630-93bc-5fb624b542cc",
	"9c97aa3a-d0d2-409c-86d0-9194db2476c5",
	'ep_pkg',
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("73477a97-5ece-48fc-b867-a6d17b3feb4a",
	"9c97aa3a-d0d2-409c-86d0-9194db2476c5",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"5a94768b-9a96-4630-93bc-5fb624b542cc",
	'');
INSERT INTO O_TFR
	VALUES ("07d3849c-9f14-49f4-8d47-bb9f1891ecc0",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformDomain',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'self.createSystem();

// Create a component in the Library package if it doesn''t already exist
lib_pkg = self.lib_pkg;
select any c_c related by lib_pkg->PE_PE[R8000]->C_C[R8001] where ( param.name == selected.Name );

if ( empty c_c )
  c_c = self.Package_newComponent(ep_pkg:self.lib_pkg, component_name:param.name);
  self.Component_newPackage(c_c:c_c, pkg_name:param.name);

  // Create a component reference in the project wiring package
  wiring_pkg = self.wiring_pkg;
  if ( not_empty wiring_pkg )
    cl_ic = self.Package_newImportedComponent(ep_pkg:self.wiring_pkg);

    // Assign the component reference to the component 
    self.ComponentReference_assignToComp(cl_ic:cl_ic, c_c:c_c);
  end if;
end if;

self.current_component = c_c;',
	1,
	'',
	"9438bf8f-4666-499e-9822-00e7b064286f");
INSERT INTO O_TPARM
	VALUES ("8da4d30c-a69d-4f29-a03f-feaa156369bb",
	"07d3849c-9f14-49f4-8d47-bb9f1891ecc0",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("59fd5264-7d22-47ce-a615-605f9ee03143",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Package_newComponent',
	'',
	"67f93d18-1045-4c6c-b0d5-a692023c471c",
	1,
	'ep_pkg = param.ep_pkg;

create object instance component of C_C;
// create Packageable Element supertype and hook up to this package.
create object instance pe of PE_PE;
relate component to pe across R8001;
relate pe to ep_pkg across R8000;
pe.type = ElementTypeConstants::COMPONENT;
self.PackageableElement_initialize(pe_pe:pe); // OOA - pe.initialize();
self.Component_initialize(c_c:component, name:param.component_name); // OOA - component.initialize();

return component;',
	1,
	'',
	"c46c404c-7529-4f5d-a19f-bd7f8ce04703");
INSERT INTO O_TPARM
	VALUES ("516962af-ce9e-4d62-a525-bbbbeaa22aec",
	"59fd5264-7d22-47ce-a615-605f9ee03143",
	'ep_pkg',
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("76af9b0d-2e19-40ad-a6b9-9a4aff04722c",
	"59fd5264-7d22-47ce-a615-605f9ee03143",
	'component_name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"516962af-ce9e-4d62-a525-bbbbeaa22aec",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("67f93d18-1045-4c6c-b0d5-a692023c471c",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<Component>',
	'',
	'',
	'../../../../../mcooa/models/mcooa/ooaofooa/Component/Component.xtuml');
INSERT INTO O_TFR
	VALUES ("69c066cc-2506-4998-b894-060151a8f78f",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Component_initialize',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'param.c_c.Name = param.name;',
	1,
	'',
	"edbc08df-df72-4ee9-9365-1a3d836b9fbd");
INSERT INTO O_TPARM
	VALUES ("f65484fc-8457-4608-a4a6-aaecf7953533",
	"69c066cc-2506-4998-b894-060151a8f78f",
	'c_c',
	"67f93d18-1045-4c6c-b0d5-a692023c471c",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("9d676a9b-81ea-4e5a-8daa-b049672d005e",
	"69c066cc-2506-4998-b894-060151a8f78f",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"f65484fc-8457-4608-a4a6-aaecf7953533",
	'');
INSERT INTO O_TFR
	VALUES ("8dc83f08-897b-47cb-9ef3-db03c1fa412c",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'ComponentReference_assignToComp',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// This function is heavily modified from the OOAofOOA version.  Notably, a huge block of code to handle the case
// where the component reference is already assigned to a component is removed as we are only using this for 
// fresh component reference creation.

cl_ic = param.cl_ic;  // TODO - This needs Component Reference to have it''s inst_ref published and the parameter type fixed
comp = param.c_c;

select one packageableElem related by cl_ic->PE_PE[R8001]; 
select one contPackage related by packageableElem->EP_PKG[R8000];
select one contComponent related by packageableElem->C_C[R8003];
if(not_empty comp)
  relate cl_ic to comp across R4201;
  select many formalInterfaces related by comp->C_PO[R4010]->C_IR[R4016];
  for each formalInterface in formalInterfaces
    // If the association between self and C_I is set up
    // then this reference is formal
    // TODO - SKB: here I skipped a function call because it would require published ref on C_IR, maybe should use
    //   that for consistency...
    select one c_i related by formalInterface->C_I[R4012];
    if(not_empty c_i)
      select any existingImportRef related by cl_ic->CL_POR[R4707]->CL_IIR[R4708]->C_IR[R4701]
                                      where (selected.Id == formalInterface.Id);
      if(empty existingImportRef)
        select one provision related by formalInterface->C_P[R4009];
        create object instance newImportedRef of CL_IIR;
        if(not_empty provision)
          create object instance importedPro of CL_IP;
          relate importedPro to newImportedRef across R4703;
        else
          create object instance importedReq of CL_IR;
          relate importedReq to newImportedRef across R4703;
        end if;
        create object instance portRef of CL_POR;
        select one existingPort related by formalInterface->C_PO[R4016];
        relate existingPort to portRef across R4709;
        relate portRef to cl_ic across R4707;
        relate portRef to newImportedRef across R4708;
        relate newImportedRef to formalInterface across R4701;
      end if;
    end if;
  end for; 
end if;
',
	1,
	'',
	"747f4c49-5479-4ea7-b653-6c1a4424d418");
INSERT INTO O_TPARM
	VALUES ("14d80979-ed8b-4fd8-9a8a-63dd3ec8e7ca",
	"8dc83f08-897b-47cb-9ef3-db03c1fa412c",
	'cl_ic',
	"4bf19d7e-1bcd-469a-b056-4523dd59dc1d",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("4bf19d7e-1bcd-469a-b056-4523dd59dc1d",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<Component Reference>',
	'',
	'',
	'../../../../../mcooa/models/mcooa/ooaofooa/Component/Component Library/Component Library.xtuml');
INSERT INTO O_TPARM
	VALUES ("54c1f990-33e8-435c-893b-378292930c52",
	"8dc83f08-897b-47cb-9ef3-db03c1fa412c",
	'c_c',
	"67f93d18-1045-4c6c-b0d5-a692023c471c",
	0,
	'',
	"14d80979-ed8b-4fd8-9a8a-63dd3ec8e7ca",
	'');
INSERT INTO O_TFR
	VALUES ("8b5937f7-610b-4bd3-9fe2-8b9e795cfd80",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformObject',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'// Create a Model Class with name if it doesn''t already exist, Put inside component''s "<component name>" pkg

// Get the package with the same name as the component, this is where we put the "internal behavior"
current_component = self.current_component;
select any internals_pkg related by current_component->PE_PE[R8003]->EP_PKG[R8001] where (selected.Name == current_component.Name);

// See if a model class already exists
select any o_obj related by internals_pkg->PE_PE[R8000]->O_OBJ[R8001] where (selected.Name == param.name);
self.current_class = o_obj;

if ( empty o_obj )
  // The object has not been declared already, create it
  self.current_class = self.Package_newClass(ep_pkg:internals_pkg, class_name: param.name); 
end if;

// TODO - this needs to work in concert with Package_newClass and ModelClass_initialize since the first time through 
//   could just be a forward declaration to an object.  Then the next time we see it we''ll be given more parameters
//   to configure the class with.  Thus, we need to do more work here to set the key letters, class number, etc if we
//   are given them as params.  Or, in the case where we saw the class defintion first then see another class declaration
//   later, we basically just do nothing and return.',
	1,
	'',
	"3ed1f3e8-afb7-40dc-a2d2-2caac1c499d4");
INSERT INTO O_TPARM
	VALUES ("8b0d5f6b-5fc0-48dd-b987-acc00c37c87d",
	"8b5937f7-610b-4bd3-9fe2-8b9e795cfd80",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("747f4c49-5479-4ea7-b653-6c1a4424d418",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Component_newPackage',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'c_c = param.c_c;

create object instance package of EP_PKG;
// create Packageable Element supertype and hook up to this package.
create object instance pe of PE_PE;
relate package to pe across R8001;
rootCompIdInPkg = self.Component_getRootComponentId(c_c:c_c);
select any rootComponent from instances of C_C where (selected.Id == rootCompIdInPkg);
select one system related by rootComponent->PE_PE[R8001]->EP_PKG[R8000]->S_SYS[R1405];
relate package to system across R1405;
relate c_c to pe across R8003;
self.Package_initialize(ep_pkg:package, name:param.pkg_name); // OOA - package.initialize();
pe.type = ElementTypeConstants::PACKAGE;
self.PackageableElement_initialize(pe_pe:pe);  // OOA - pe.initialize();
',
	1,
	'',
	"69c066cc-2506-4998-b894-060151a8f78f");
INSERT INTO O_TPARM
	VALUES ("285fb005-4c64-4bab-a540-5f73ef671f89",
	"747f4c49-5479-4ea7-b653-6c1a4424d418",
	'c_c',
	"67f93d18-1045-4c6c-b0d5-a692023c471c",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("761b2167-09f4-4856-aeaa-8757b3e7df80",
	"747f4c49-5479-4ea7-b653-6c1a4424d418",
	'pkg_name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"285fb005-4c64-4bab-a540-5f73ef671f89",
	'');
INSERT INTO O_TFR
	VALUES ("edbc08df-df72-4ee9-9365-1a3d836b9fbd",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Component_getRootComponentId',
	'',
	"ba5eda7a-def5-0000-0000-000000000005",
	1,
	'c_c = param.c_c;

// Component.getRootComponentId
// NOTE: Only intended for use in a generic package context
// Ascends the Component hierarchy to find the top component.
// The "top component" is the first component in this package. Note that
// this package may be nested.  The package could also by under a 
// component.  However, this routine finds the first component in 
// this package.  It does NOT search beyond the package boundary.
select one parentComponent related by c_c->PE_PE[R8001]->C_C[R8003];
if not_empty parentComponent
  return self.Component_getRootComponentId(c_c:parentComponent); // OOA - return parentComponent.getRootComponentId();
end if;
return c_c.Id;',
	1,
	'',
	"fd3b1e58-e9c3-41df-a82e-724733a56a61");
INSERT INTO O_TPARM
	VALUES ("f8b32f28-f05b-4aca-bf2b-629bbb42455c",
	"edbc08df-df72-4ee9-9365-1a3d836b9fbd",
	'c_c',
	"67f93d18-1045-4c6c-b0d5-a692023c471c",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("46927d95-5219-4409-9ecf-2a4bde2444bf",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'createSystem',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	's_sys = self.current_sys;
if ( empty s_sys )
  // Create the system model and cache it
  create object instance s_sys of S_SYS;

  s_sys.Name = "ConvertedModel";
  self.current_sys = s_sys;

  // Create a package named "Library" and cache it
  self.lib_pkg = self.SystemModel_newPackage(s_sys:s_sys, pkg_name:"library");
end if;

',
	1,
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("dc1b8351-2cfd-4870-b038-21d1052f3c05",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'InterfaceReference_isFormal',
	'',
	"ba5eda7a-def5-0000-0000-000000000001",
	1,
	'',
	1,
	'',
	"8dc83f08-897b-47cb-9ef3-db03c1fa412c");
INSERT INTO O_TPARM
	VALUES ("f4e74870-5f4d-4477-b491-66bc68360f61",
	"dc1b8351-2cfd-4870-b038-21d1052f3c05",
	'c_ir',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("fd3b1e58-e9c3-41df-a82e-724733a56a61",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformTerminator',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	1,
	'',
	"cd1f0452-4df9-45c5-949f-e319f8cb63e8");
INSERT INTO O_TPARM
	VALUES ("2b20bdba-272e-4e7f-b097-c0e5ea0e5f52",
	"fd3b1e58-e9c3-41df-a82e-724733a56a61",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("10b41e09-87b2-4ef5-89ad-9ef4c39d9637",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformActivity',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	1,
	'',
	"87050544-e583-4582-86a9-367a73543eb0");
INSERT INTO O_TFR
	VALUES ("9fda3415-6862-461d-ab35-5239c783bde0",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformParameter',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	1,
	'',
	"8b5937f7-610b-4bd3-9fe2-8b9e795cfd80");
INSERT INTO O_TFR
	VALUES ("9438bf8f-4666-499e-9822-00e7b064286f",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformAttribute',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	1,
	'',
	"10b41e09-87b2-4ef5-89ad-9ef4c39d9637");
INSERT INTO O_TFR
	VALUES ("cd1f0452-4df9-45c5-949f-e319f8cb63e8",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformState',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	1,
	'',
	"a442a038-3373-4282-a5fc-098af44e9cbe");
INSERT INTO O_TFR
	VALUES ("3ed1f3e8-afb7-40dc-a2d2-2caac1c499d4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'transformEvent',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'',
	1,
	'',
	"07d3849c-9f14-49f4-8d47-bb9f1891ecc0");
INSERT INTO O_TFR
	VALUES ("a9942ae9-1501-49c7-afb1-84aa422a85e5",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Package_newImportedComponent',
	'',
	"4bf19d7e-1bcd-469a-b056-4523dd59dc1d",
	1,
	'ep_pkg = param.ep_pkg;

create object instance importedComp of CL_IC;
// create Packageable Element supertype and hook up to this package.
create object instance pe of PE_PE;
relate importedComp to pe across R8001;
relate pe to ep_pkg across R8000;
pe.type = ElementTypeConstants::COMPONENT_REFERENCE;
self.PackageableElement_initialize(pe_pe:pe);  // OOA - pe.initialize();

return importedComp;',
	1,
	'',
	"59fd5264-7d22-47ce-a615-605f9ee03143");
INSERT INTO O_TPARM
	VALUES ("e952b8f1-7170-41cf-90c0-cc2e46eff7d6",
	"a9942ae9-1501-49c7-afb1-84aa422a85e5",
	'ep_pkg',
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TFR
	VALUES ("c46c404c-7529-4f5d-a19f-bd7f8ce04703",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'Package_newClass',
	'',
	"63f4ff99-f127-443b-a678-30ace41da702",
	1,
	'ep_pkg = param.ep_pkg;

create object instance cl of O_OBJ;
// create Packageable Element supertype and hook up to this package.
create object instance pe of PE_PE;
relate cl to pe across R8001;
pe.type = ElementTypeConstants::CLASS;
self.PackageableElement_initialize(pe_pe:pe); // OOA - pe.initialize();

relate ep_pkg to pe across R8000;
self.ModelClass_initialize(o_obj:cl, name:param.class_name); // OOA - cl.initialize();

return cl;',
	1,
	'',
	"9c97aa3a-d0d2-409c-86d0-9194db2476c5");
INSERT INTO O_TPARM
	VALUES ("9e81a5f3-e669-49c4-8751-23b2facf5522",
	"c46c404c-7529-4f5d-a19f-bd7f8ce04703",
	'ep_pkg',
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("a18acae9-7cbd-4467-9517-c7dae02db45c",
	"c46c404c-7529-4f5d-a19f-bd7f8ce04703",
	'class_name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"9e81a5f3-e669-49c4-8751-23b2facf5522",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("63f4ff99-f127-443b-a678-30ace41da702",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<Model Class>',
	'',
	'',
	'../../../../../mcooa/models/mcooa/ooaofooa/Subsystem/Subsystem.xtuml');
INSERT INTO O_TFR
	VALUES ("6355664b-4091-4bc3-ac82-c6d3580da3ad",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'ModelClass_initialize',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'o_obj = param.o_obj;
o_obj.Name = param.name;

select one packageableElem related by o_obj->PE_PE[R8001];
select one package related by packageableElem->EP_PKG[R8000];
select one component related by packageableElem->C_C[R8003];

// Note that this is here just to get the variable classes into context.
select many classes related by package->PE_PE[R8000]->O_OBJ[R8001];

  if (not_empty package)
    // we''re in a package, get the classes in the package and set the class number
    select many classes related by package->PE_PE[R8000]->O_OBJ[R8001];
    if ( package.Num_Rng == 0 )
      o_obj.Numb = 1;
    else
      o_obj.Numb = package.Num_Rng;
    end if;
  else
    rootCompIdInPkg = self.Component_getRootComponentId(c_c:component); // OOA - rootCompIdInPkg = component.getRootComponentId();
    select any rootComponent from instances of C_C where (selected.Id == rootCompIdInPkg);
    select one package related by rootComponent->PE_PE[R8001]->EP_PKG[R8000];
    
    if ( package.Num_Rng == 0 )
      o_obj.Numb = 1;
    else
      o_obj.Numb = package.Num_Rng;
    end if;
  end if;

// for each model-class associated with this model-class''s
// owning subsystem or package
for each clazz in classes
  // if this class equals self, skip it
  if (clazz.Obj_ID == o_obj.Obj_ID) continue; end if;

  // if this other class''s number is greater than this model-class''s number
  if (clazz.Numb >= o_obj.Numb)
    // have this model-class''s number be just greater
    // than this other class''s number
    o_obj.Numb = clazz.Numb + 1;
  end if;
end for;

// MASL object names are not allowed to have spaces, so we can just use the name as the default key letters
o_obj.Key_Lett = o_obj.Name; // OOA - o_obj.Key_Lett = OS::remove_spaces(s:name);
self.ModelClass_addIdentifiers(o_obj:o_obj); // OOA - o_obj.addIdentifiers();

',
	1,
	'',
	"746859b9-4abd-48d5-ab0d-ea689a3e3b5b");
INSERT INTO O_TPARM
	VALUES ("da659b0e-173f-470b-b017-b739ba8a6b65",
	"6355664b-4091-4bc3-ac82-c6d3580da3ad",
	'o_obj',
	"63f4ff99-f127-443b-a678-30ace41da702",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("f9266be0-a4b2-457d-a083-584bdc37335f",
	"6355664b-4091-4bc3-ac82-c6d3580da3ad",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"da659b0e-173f-470b-b017-b739ba8a6b65",
	'');
INSERT INTO O_TFR
	VALUES ("746859b9-4abd-48d5-ab0d-ea689a3e3b5b",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	'ModelClass_addIdentifiers',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'o_obj = param.o_obj;

select any oid1 related by o_obj->O_ID[R104] where ( selected.Oid_ID == 0 );
if ( empty oid1 )
  create object instance oid1 of O_ID;
  oid1.Oid_ID = 0;
  relate oid1 to o_obj across R104;
end if;
select any oid2 related by o_obj->O_ID[R104] where ( selected.Oid_ID == 1 );
if ( empty oid2 )
  create object instance oid2 of O_ID;
  oid2.Oid_ID = 1;
  relate oid2 to o_obj across R104;
end if;
select any oid3 related by o_obj->O_ID[R104] where ( selected.Oid_ID == 2 );
if ( empty oid3 )
  create object instance oid3 of O_ID;
  oid3.Oid_ID = 2;
  relate oid3 to o_obj across R104;
end if;
',
	1,
	'',
	"dc1b8351-2cfd-4870-b038-21d1052f3c05");
INSERT INTO O_TPARM
	VALUES ("f4fdbf93-a3aa-4805-9619-7b5430a18536",
	"746859b9-4abd-48d5-ab0d-ea689a3e3b5b",
	'o_obj',
	"63f4ff99-f127-443b-a678-30ace41da702",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_NBATTR
	VALUES ("f4cd4ba4-38c5-43c4-9b67-917389fffcc4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_BATTR
	VALUES ("f4cd4ba4-38c5-43c4-9b67-917389fffcc4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ATTR
	VALUES ("f4cd4ba4-38c5-43c4-9b67-917389fffcc4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	"a87535cf-69f9-40c1-89b7-ec610331473e",
	'wiring_pkg',
	'',
	'',
	'wiring_pkg',
	0,
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("d14202df-9ea9-4589-a309-406b4ed0b070",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_BATTR
	VALUES ("d14202df-9ea9-4589-a309-406b4ed0b070",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ATTR
	VALUES ("d14202df-9ea9-4589-a309-406b4ed0b070",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	"f4cd4ba4-38c5-43c4-9b67-917389fffcc4",
	'lib_pkg',
	'',
	'',
	'lib_pkg',
	0,
	"9939c670-a721-4742-a824-ed4b0df4acd6",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("a87535cf-69f9-40c1-89b7-ec610331473e",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_BATTR
	VALUES ("a87535cf-69f9-40c1-89b7-ec610331473e",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ATTR
	VALUES ("a87535cf-69f9-40c1-89b7-ec610331473e",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	"00000000-0000-0000-0000-000000000000",
	'current_sys',
	'',
	'',
	'current_sys',
	0,
	"4b886601-55ee-4d42-a1f8-f5c45d459db2",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("619f4747-9795-4d99-a5ac-563d99ffbda4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_BATTR
	VALUES ("619f4747-9795-4d99-a5ac-563d99ffbda4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ATTR
	VALUES ("619f4747-9795-4d99-a5ac-563d99ffbda4",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	"d14202df-9ea9-4589-a309-406b4ed0b070",
	'current_component',
	'',
	'',
	'current_component',
	0,
	"67f93d18-1045-4c6c-b0d5-a692023c471c",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("628299ab-4589-4cfb-9c7d-c61c627dd3c1",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_BATTR
	VALUES ("628299ab-4589-4cfb-9c7d-c61c627dd3c1",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ATTR
	VALUES ("628299ab-4589-4cfb-9c7d-c61c627dd3c1",
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	"619f4747-9795-4d99-a5ac-563d99ffbda4",
	'current_class',
	'',
	'',
	'current_class',
	0,
	"63f4ff99-f127-443b-a678-30ace41da702",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ID
	VALUES (1,
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO O_ID
	VALUES (2,
	"2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f");
INSERT INTO PE_PE
	VALUES ("2caf6fbd-3dbc-4f0d-9fbb-834f70662a1f",
	1,
	"15343df7-4335-41a1-93bf-5b14dcf08e0b",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("15343df7-4335-41a1-93bf-5b14dcf08e0b",
	"319083ee-ba5f-4645-a409-d6249f9350bd",
	"319083ee-ba5f-4645-a409-d6249f9350bd",
	'maslin',
	'',
	0,
	'../maslin.xtuml');
