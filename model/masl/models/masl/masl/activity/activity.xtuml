-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("4431e956-be8b-40e7-83ed-ac781e31719b",
	'activity',
	3706,
	'activity',
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("7baced44-2e68-4af0-bf91-6ab83eb77f66",
	"4431e956-be8b-40e7-83ed-ac781e31719b",
	'populate',
	'',
	"1b2a92d7-e97c-4b62-9e83-f7969ef6a845",
	0,
	'create object instance activity of activity;
activity.name = param.name;
activity.visibility = param.visibility;

// relate to parent
parent_domain = param.parent_domain;
parent_terminator = param.parent_terminator;
parent_object = param.parent_object;
if ( not_empty parent_domain )
  relate activity to parent_domain across R3707;
elif ( not_empty parent_terminator )
  relate activity to parent_terminator across R3703;
elif ( not_empty parent_object )
  // TODO relationship between activity and object
  //relate activity to parent_object across R3703;
else
  TRACE::log( flavor:"failure", id:39, message:"no parent for activity" );
end if;

return activity;',
	1,
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TPARM
	VALUES ("585355bf-c759-4c64-aa52-63cf9d1e7530",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'visibility',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"00000000-0000-0000-0000-000000000000",
	'');
INSERT INTO O_TPARM
	VALUES ("a0bc78f5-fe93-4ba5-bee4-743fb96c6b5a",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'name',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"585355bf-c759-4c64-aa52-63cf9d1e7530",
	'');
INSERT INTO O_TPARM
	VALUES ("8f65c084-b0ee-4dd6-9184-2b3b0951f930",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'instance',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"a0bc78f5-fe93-4ba5-bee4-743fb96c6b5a",
	'');
INSERT INTO O_TPARM
	VALUES ("06420c83-f74c-4062-8a17-c9ba14df3251",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'deferred_relationship',
	"ba5eda7a-def5-0000-0000-000000000004",
	0,
	'',
	"8f65c084-b0ee-4dd6-9184-2b3b0951f930",
	'');
INSERT INTO O_TPARM
	VALUES ("f90a7bc6-931a-48e1-b249-56328eb537e4",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'parent_domain',
	"baca163b-e8d7-44c7-b0e0-61776ffb7cae",
	0,
	'',
	"06420c83-f74c-4062-8a17-c9ba14df3251",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("baca163b-e8d7-44c7-b0e0-61776ffb7cae",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<domain>',
	'',
	'',
	'../masl.xtuml');
INSERT INTO O_TPARM
	VALUES ("f85168d2-021d-4164-a1e7-deb13c2c0484",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'parent_terminator',
	"a2661e87-6030-4167-bef8-2ff6c815e67e",
	0,
	'',
	"f90a7bc6-931a-48e1-b249-56328eb537e4",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("a2661e87-6030-4167-bef8-2ff6c815e67e",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<terminator>',
	'',
	'',
	'../masl.xtuml');
INSERT INTO O_TPARM
	VALUES ("b760b385-8f47-4a05-899a-aca8d9ad4e53",
	"7baced44-2e68-4af0-bf91-6ab83eb77f66",
	'parent_object',
	"42488ce2-7c14-405b-ab4a-c6b5a73ef562",
	0,
	'',
	"f85168d2-021d-4164-a1e7-deb13c2c0484",
	'');
INSERT INTO S_DT_PROXY
	VALUES ("42488ce2-7c14-405b-ab4a-c6b5a73ef562",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<object>',
	'',
	'',
	'../masl.xtuml');
INSERT INTO S_DT_PROXY
	VALUES ("1b2a92d7-e97c-4b62-9e83-f7969ef6a845",
	"00000000-0000-0000-0000-000000000000",
	'inst_ref<activity>',
	'',
	'',
	'../masl.xtuml');
INSERT INTO O_TFR
	VALUES ("cce75d87-818b-4fc3-a50d-f92d030db143",
	"4431e956-be8b-40e7-83ed-ac781e31719b",
	'render',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'select one function related by self->function[R3704];
select one service related by self->service[R3704];
if ( not_empty function )
  function.render( name:self.name, visibility:self.visibility );
elif ( not_empty service )
  service.render( name:self.name, visibility:self.visibility );
else
  TRACE::log( flavor:"failure", id:11, message:"no subtype for activity" );
end if;
/*
select one pragma related by self->pragma[R3706];
if ( not_empty pragma )
  pragma.render();
end if;
*/',
	1,
	'',
	"7baced44-2e68-4af0-bf91-6ab83eb77f66");
INSERT INTO O_TFR
	VALUES ("4c53013a-af89-41b3-917d-8832a0def9ef",
	"4431e956-be8b-40e7-83ed-ac781e31719b",
	'validate',
	'',
	"ba5eda7a-def5-0000-0000-000000000001",
	0,
	'valid = true;
select many activitys from instances of activity;
for each activity in activitys;
  select one terminator related by activity->terminator[R3703];
  select one domain related by activity->domain[R3707];
  if ( ( empty terminator ) and ( empty domain ) )
    TRACE::log( flavor:"failure", id:8, message:"activity has no parent teriminator or domain." );
    valid = false;
  end if;
  select one function related by activity->function[R3704];
  select one service related by activity->service[R3704];
  if ( ( empty function ) and ( empty service ) )
    TRACE::log( flavor:"failure", id:9, message:"activity has no child function or service." );
    valid = false;
  end if;
end for;

// Validate siblings and subordinates.
return ( valid and function::validate() and service::validate() and parameter::validate() );
',
	1,
	'',
	"cce75d87-818b-4fc3-a50d-f92d030db143");
INSERT INTO O_NBATTR
	VALUES ("27d8c431-aa99-4f85-8118-e3c78c95bcdb",
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO O_BATTR
	VALUES ("27d8c431-aa99-4f85-8118-e3c78c95bcdb",
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO O_ATTR
	VALUES ("27d8c431-aa99-4f85-8118-e3c78c95bcdb",
	"4431e956-be8b-40e7-83ed-ac781e31719b",
	"00000000-0000-0000-0000-000000000000",
	'name',
	'',
	'',
	'name',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("968777bc-23a5-4528-b2ca-54fae8483fce",
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO O_BATTR
	VALUES ("968777bc-23a5-4528-b2ca-54fae8483fce",
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO O_ATTR
	VALUES ("968777bc-23a5-4528-b2ca-54fae8483fce",
	"4431e956-be8b-40e7-83ed-ac781e31719b",
	"27d8c431-aa99-4f85-8118-e3c78c95bcdb",
	'visibility',
	'',
	'',
	'visibility',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO O_ID
	VALUES (1,
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO O_ID
	VALUES (2,
	"4431e956-be8b-40e7-83ed-ac781e31719b");
INSERT INTO PE_PE
	VALUES ("4431e956-be8b-40e7-83ed-ac781e31719b",
	1,
	"ceafde1b-ef7d-4cdb-ab88-6866d249a397",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("ceafde1b-ef7d-4cdb-ab88-6866d249a397",
	"0c88bc32-05c8-40cf-8e56-04848518b4a9",
	"0c88bc32-05c8-40cf-8e56-04848518b4a9",
	'masl',
	'',
	0,
	'../masl.xtuml');
